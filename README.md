# Diabetes Prediction: Regression Analysis of Fasting Blood Glucose

This project performs a regression analysis to predict `Fasting_Blood_Glucose` levels using a publicly available diabetes dataset. The analysis involves loading, cleaning, and exploring the data, followed by training and evaluating a LightGBM regression model.

## Project Goal

The main objective is to build a predictive model that can estimate a person's `Fasting_Blood_Glucose` based on various health and lifestyle factors present in the dataset, and to understand which features are most influential in this prediction.

## Analysis Steps

The project follows a standard data analysis and modeling workflow:

1.  **Data Loading and Initial Inspection:** Load the dataset and check for missing values and understand the data structure.
2.  **Exploratory Data Analysis (EDA):**
    *   Visualize the distribution of key numerical features using histograms.
    *   Visualize the distribution of categorical features using pie charts.
    *   Examine the distribution and potential outliers of various features using box plots.
    *   Analyze correlations between numerical features using a heatmap.
3.  **Data Preprocessing:**
    *   Handle missing values (specifically in 'Alcohol_Consumption').
    *   Convert categorical features into factors for modeling compatibility.
4.  **Data Splitting:** Divide the dataset into training (80%) and testing (20%) sets to evaluate model performance on unseen data.
5.  **Model Training:** Train a LightGBM (Light Gradient Boosting Machine) regression model on the training data, specifying categorical features.
6.  **Model Evaluation:** Assess the model's performance on the test set using the R-squared metric.
7.  **Model Insights:** Analyze feature importance from the LightGBM model and visualize the relationship between actual and predicted `Fasting_Blood_Glucose` values.

## Data Source

The dataset used in this analysis is the **"Diabetes Prediction Dataset"** from Kaggle.

*   **Dataset Name:** Diabetes Prediction Dataset
*   **Source Link:** [https://www.kaggle.com/datasets/marshalpatel3558/diabetes-prediction-dataset](https://www.kaggle.com/datasets/marshalpatel3558/diabetes-prediction-dataset)

The specific file used is `diabetes_dataset.csv`. **Please download this file and place it in the same directory as the R Markdown file (`diabetes_prediction_analysis.Rmd`) for the code to run correctly.**

## Key Findings

*   **Data Quality:** The dataset had minimal missing values, with `Alcohol_Consumption` being the only column requiring specific imputation (filled with 'Not Reported').
*   **Feature Distributions:** The analysis revealed varied distributions for features, including skewed distributions for some numerical variables.
*   **Correlations:** A correlation heatmap highlighted relationships between numerical features.
*   **Model Performance:** The trained LightGBM model achieved an R-squared score of approximately **`r round(r_squared, 4)`** on the test set. This R-squared value indicates the proportion of the variance in `Fasting_Blood_Glucose` that is predictable from the features included in the model. A value close to 0 (or negative) suggests the model explains a small portion of the variance or performs worse than predicting the mean.
*   **Feature Importance:** The feature importance plot (generated by the model) indicates which variables contributed most significantly to the prediction of `Fasting_Blood_Glucose`. [Consider briefly mentioning top 1-2 features if they stand out significantly, e.g., "BMI and Age were identified as among the most important predictors."]

## Project Structure

```
.
├── diabetes_dataset.csv         # Raw data file (must be placed here)
└── diabetes_prediction_analysis.Rmd # The main R Markdown file containing the analysis code and report
```

*(Note: The Rmd filename is assumed based on common practice; replace `diabetes_prediction_analysis.Rmd` if your file has a different name)*

## How to Run the Analysis

To reproduce the analysis and generate the report:

1.  **Install R and RStudio:** If you don't have them, download and install R ([https://cran.r-project.org/](https://cran.r-project.org/)) and RStudio ([https://posit.co/download/rstudio-desktop/](https://posit.co/download/rstudio-desktop/)).
2.  **Download the Data:** Download the `diabetes_dataset.csv` file from the Kaggle dataset link provided above.
3.  **Set up Project Directory:** Create a directory for this project. Place the `diabetes_prediction_analysis.Rmd` file (or whatever you named it) and the downloaded `diabetes_dataset.csv` file directly within this directory.
4.  **Install Required R Packages:** Open RStudio, open the R Markdown file, and install the necessary packages by running the following command in the R console:

    ```R
    install.packages(c("readr", "dplyr", "ggplot2", "reshape2", "caret", "lightgbm", "corrplot", "knitr", "rmarkdown"))
    ```

5.  **Run the Analysis:** Open the `diabetes_prediction_analysis.Rmd` file in RStudio. Click the "Knit" button (usually located in the top toolbar) and select "Knit to PDF".

This will execute the R code chunks within the R Markdown file, perform the entire analysis workflow, and generate a PDF report (e.g., `diabetes_prediction_analysis.pdf`) containing the detailed steps, visualizations, and results.

## Requirements

*   R programming language
*   RStudio (recommended IDE)
*   Required R packages: `readr`, `dplyr`, `ggplot2`, `reshape2`, `caret`, `lightgbm`, `corrplot`, `knitr`, `rmarkdown`.
*   The `diabetes_dataset.csv` file.

## Limitations and Future Work

As noted in the conclusion of the analysis, the model explains only a portion of the variance in Fasting Blood Glucose. Future work could involve:

*   Hyperparameter tuning for the LightGBM model to potentially improve performance.
*   Exploring other regression algorithms (e.g., Linear Regression, Random Forest, XGBoost) for comparison.
*   Investigating alternative methods for handling categorical variables or missing values.
*   Engineering new features from existing data.

## Author

*   Manas Reddy
